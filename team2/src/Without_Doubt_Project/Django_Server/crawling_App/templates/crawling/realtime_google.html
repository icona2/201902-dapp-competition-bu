<!DOCTYPE html>
<html lang="en" ng-app="ExampleApp">

#장고에서 지정한 static 경로를 참조할 수 있도록 한다.
#모든 참조 경로는 {% --- %} 형태로 지정해야 한다.

{% load staticfiles %}
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>real time_google</title>

    <!-- Bootstrap core CSS -->
    <link href='{% static "vendor/bootstrap/css/bootstrap.min.css" %}' rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href='{% static "vendor/fontawesome-free/css/all.min.css" %}' rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel='stylesheet' type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href='{% static "css/agency.min.css" %}' rel="stylesheet">

    <script src="http://code.jquery.com/jquery-1.12.4.min.js"></script>

</head>

<!-- About -->

<body ng-controller="MainCtrl">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading text-uppercase">Google실검기록</h2>

#폼 아래의 input 값들을 get방식을 통해 전달한다
                <form id="frm" action="" method="get">
                    <div>
                        <div class="form-group">
                            <fieldset>
#date타입의 input 선언, userdate라는 파라미터에 할당, 날짜범위를 2019-02-01~2020-02-01로 제한
            <input class="btn btn-primary" id = "now_date" type="date" name="userdate" min="2019-02-01" max="2020-02-01">
#time타입의 input 선언, usertime라는 파라미터에 할당
             <input class="btn btn-primary" id="now_time" type="time" name="usertime">
#버튼을 누르면 위 input 값을 전송한다.
            <input class="btn btn-primary" type="submit" value="검색"></div>
                        </fieldset>

                    <ol class="rolldown-list">


#view.py에서 전송된 error변수 값을 읽어 에러를 처리해준다.
#만약 error변수가 1일경우
{% if error == 1 %}
<script type="text/javascript">
#데이터를 찾을 수 없다는 경고창을 웹페이지에 보여주고.
  alert('데이터를 찾을 수 없습니다.')
#원래 페이지로 다시 이동시킨다.
  window.location.href = '/realtime_google.html';
</script>

#만약 error변수가 2일경우
{% elif error == 2 %}
<script type="text/javascript">
#잘못된 접근이라는 경고창을 웹페이지에 보여주고.
  alert('잘못된 접근입니다.\n')
#원래 페이지로 다시 이동시킨다.
  window.location.href = '/realtime_google.html';
</script>
{% endif %}

    <script>
#views.py에서 전송된 dtae,time변수를 날짜와 시간 웹페이지 UI에 출력해준다.
          document.getElementById('now_date').value = "{{date}}"
          document.getElementById('now_time').value = "{{time}}"

    </script>
#views.py에서 전송된 posts변수를 왼쪽정렬하여 템플릿상에 번호 출력해준다.
        {% for post in posts %}
     <li style="text-align:left">{{post}}</li>
    {% endfor %}
  </ol>


    <!-- 누락값 표시 
	</br></br></br>
#views.py에서 전송된 missing변수를 왼쪽정렬하여 템플릿상에 번호 출력해준다.
	<h4 class="section-heading text-uppercase">누락 값</h4>
	<ol class="rolldown-list">
	    {% for miss in missing %}
	    <li style="text-align:left">{{miss}}</li>
	    {% endfor %}
	</ol>
    -->

                    </div>

                </form>
            </div>
        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src='{% static "vendor/jquery/jquery.min.js" %}'></script>
    <script src='{% static "vendor/bootstrap/js/bootstrap.bundle.min.js" %}'></script>

    <!-- Plugin JavaScript -->
    <script src='{% static "vendor/jquery-easing/jquery.easing.min.js" %}'></script>

    <!-- Contact form JavaScript -->
    <script src='{% static "js/jqBootstrapValidation.js" %}'></script>
    <script src='{% static "js/contact_me.js" %}'></script>

    <!-- Custom scripts for this template -->
    <script src='{% static "js/agency.min.js" %}'></script>



</body>

</html>
